<!DOCTYPE html>
<html>

<head>
    <style>
        #map {
            height: 400px;
            width: 60%;
            margin: auto;
        }
        #title{
            left: 80px;
            margin-left: auto;
            margin: auto;
        }
    </style>
</head>

<body>
    <h3 id="title">Activities near you!</h3>
    <div id="map">
    </div>

    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script>
        function initMap() {
            var options = {
                zoom: 8,
                center: {
                    lat: [{type: Schema.Types.ObjectId, ref:"User"}],
                    lng: [{type: Schema.Types.ObjectId, ref:"User"}]
                }
            }
            var map = new google.maps.Map(
                document.getElementById('map'), options);

            var markers = [
                {
                    coords: {
                        lat: 30.986003,
                        lng: 34.932547
                    },
                    // iconImage: "https://developers.google.com/maps/documentation/javascript/examples/full/images/beachFlag.png",
                    content: '<h1>baglibagli<h1>'
                },
                {
                    coords: { lat: 32.16262, lng: 34.886691 },
                    content: '<h1>boogliboo<h1>, <p>Just as it sounds, boogliboo</p>'
                },

                {
                    coords: {
                        lat: 31.965329,
                        lng: 35.050868
                    },
                    content: '<h1>Gogoim<h1><p>A classic gogo competition</p>'
                },
                {
                    coords: {
                        lat: 30.916003,
                        lng: 34.932547
                    },
                    content: '<h1>hhhhhhh<h1> <p>A laugh workshop that will make you yell hhhhh</p>'
                },
                {
                    coords: {
                        lat: 30.986003,
                        lng: 34.932547
                    },
                    content: '<h1>kloom lo azoov<h1> <p>A traditional ride through the poorest places in tel-aviv!</p>'
                },
                {
                    coords: {
                        lat: 30.986003,
                        lng: 34.938547
                    },
                    content: '<h1>masheoo<h1><p>Just another marker for the map</p>'
                },
                {
                    coords: {
                        lat: 30.986003,
                        lng: 34.932547
                    },
                    content: '<h1>Painting huh?<h1>,<p>Think you can paint huh?</p>'
                },
            ];

            for (let i = 0; i < markers.length; i++)
                addMarker(markers[i])

            function addMarker(props) {
                var marker = new google.maps.Marker({
                    position: props.coords,
                    map: map,
                });
                if (props.iconImage) {
                    marker.setIcon(props.iconImage)
                }
                if (props.content) {
                    var infoWindow = new google.maps.InfoWindow({
                        content: props.content
                    });

                    marker.addListener("click", function () {
                        infoWindow.open(map, marker);
                    })
                }
            }
        }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDCYYt3NuOfQx0nvwYZpiC0eMqDcGFf4Io&callback=initMap">
        </script>
    <script src="Map.js"></script>
</body>

</html>


<!-- //option to add marker through map.
// google.maps.event.addListener(map,'click',
// function(event){
// addMarker({coords: event.latLng})
// }) -->